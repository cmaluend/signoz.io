---
title: OpenTelemetry Collector Binary Usage in Virtual Machine
description: Learn how to set up the OpenTelemetry Collector binary on Virtual Machines (Linux, macOS, Windows) to collect and send telemetry data to SigNoz.
date: 2026-01-17
id: opentelemetry-binary-usage-in-virtual-machine
doc_type: tutorial
---

import GetHelp from '@/components/shared/get-help.md'

This tutorial guides you through setting up the **OpenTelemetry (OTel) Collector** as a standalone binary on a Virtual Machine (VM). This approach is useful when you want to run the collector directly on the host (e.g., EC2, droplet, bare metal) without containerization.

<KeyPointCallout title="Using self-hosted SigNoz?" defaultCollapsed={true}>
  Most steps are identical. To adapt this guide, update the endpoint and remove the ingestion key
  header as shown in [Cloud â†’
  Self-Hosted](https://signoz.io/docs/ingestion/cloud-vs-self-hosted/#cloud-to-self-hosted).
</KeyPointCallout>

## Prerequisites

- An instance of SigNoz (either [Cloud](https://signoz.io/teams/) or [Self-Hosted](https://signoz.io/docs/install/self-host/))
- Access to the Virtual Machine's terminal with **sudo** or administrator privileges.

## Setup OpenTelemetry Collector

The OpenTelemetry Collector binary will:

1. Receive telemetry data (traces, metrics, logs) from your applications.
2. Collect host metrics (CPU, memory, disk, etc.) from the VM.
3. Process and export this data to SigNoz.

### Step 1: Download and Extract the Collector

<Tabs groupId="os-arch">
<TabItem value="linux" label="Linux">

We will install the collector to `/usr/local/bin` and set up the configuration in `/etc/otelcol-contrib`.

#### Download the latest release

Select the appropriate command for your architecture.

<Tabs groupId="linux-arch">
<TabItem value="amd64" label="AMD64 (x86_64)" default>

```bash
curl -sLo otelcol-contrib.tar.gz https://github.com/open-telemetry/opentelemetry-collector-releases/releases/download/v0.143.1/otelcol-contrib_0.143.1_linux_amd64.tar.gz
```

</TabItem>
<TabItem value="arm64" label="ARM64 (aarch64)">

```bash
curl -sLo otelcol-contrib.tar.gz https://github.com/open-telemetry/opentelemetry-collector-releases/releases/download/v0.143.1/otelcol-contrib_0.143.1_linux_arm64.tar.gz
```

</TabItem>
</Tabs>

For more architectures, you can check out OpenTelemetry Collector [GitHub Releases](https://github.com/open-telemetry/opentelemetry-collector-releases/releases) page.

#### Extract and install the binary:

```bash
tar -xvf otelcol-contrib.tar.gz
sudo mv otelcol-contrib /usr/local/bin/otelcol-contrib
sudo chmod +x /usr/local/bin/otelcol-contrib
```

#### Create the configuration directory:

```bash
sudo mkdir -p /etc/otelcol-contrib
```

</TabItem>

<TabItem value="macos" label="macOS">

#### Download the latest release:

<Tabs groupId="macos-arch">
<TabItem value="amd64" label="Intel (AMD64)" default>

```bash
curl -sLo otelcol-contrib.tar.gz https://github.com/open-telemetry/opentelemetry-collector-releases/releases/download/v0.143.1/otelcol-contrib_0.143.1_darwin_amd64.tar.gz
```

</TabItem>
<TabItem value="arm64" label="Apple Silicon (ARM64)">

```bash
curl -sLo otelcol-contrib.tar.gz https://github.com/open-telemetry/opentelemetry-collector-releases/releases/download/v0.143.1/otelcol-contrib_0.143.1_darwin_arm64.tar.gz
```

</TabItem>
</Tabs>

#### Extract the binary:

```bash
tar -xvf otelcol-contrib.tar.gz
chmod +x otelcol-contrib
```

</TabItem>

<TabItem value="windows" label="Windows">

#### Download the latest release:

Download the `tar.gz` package for Windows (AMD64) from the [releases page](https://github.com/open-telemetry/opentelemetry-collector-releases/releases/latest) or use PowerShell:

```powershell
Invoke-WebRequest -Uri "https://github.com/open-telemetry/opentelemetry-collector-releases/releases/download/v0.143.1/otelcol-contrib_0.143.1_windows_amd64.tar.gz" -OutFile "otelcol-contrib.tar.gz"
```

#### Extract the archive:

```powershell
tar -xvf otelcol-contrib.tar.gz
```

</TabItem>
</Tabs>

### Step 2: Configure the Collector

Create a `config.yaml` file with the following content.

- **Linux**: Create at `/etc/otelcol-contrib/config.yaml`.
- **macOS/Windows**: Create in the same directory as the binary.

```yaml:config.yaml
receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

  hostmetrics:
    collection_interval: 60s
    scrapers:
      cpu: {}
      disk: {}
      load: {}
      filesystem: {}
      memory: {}
      network: {}
      paging: {}
      process:
        mute_process_name_error: true
        mute_process_exe_error: true
        mute_process_io_error: true
      processes: {} # Linux/macOS only, not supported on Windows

  prometheus:
    config:
      global:
        scrape_interval: 60s
      scrape_configs:
        - job_name: otel-collector-binary
          static_configs:
            - targets:
              # - localhost:8888 # Uncomment to scrape Collector's own metrics

processors:
  # Use memory_limiter to prevent out-of-memory crashes
  memory_limiter:
    check_interval: 1s
    limit_mib: 1000 # Adjust based on your system's memory
    spike_limit_mib: 200
  batch:
    send_batch_size: 1000
    timeout: 10s
  # Use resourcedetection enrich the telemetry data with additional attributes like hostname, os, etc.
  resourcedetection:
    detectors: [env, system]
    timeout: 2s
    system:
      hostname_sources: [os]

extensions:
  health_check: {}
  zpages: {}

exporters:
  otlp:
    endpoint: "ingest.<region>.signoz.cloud:443"
    tls:
      insecure: false
    headers:
      "signoz-ingestion-key": "<your-ingestion-key>"
  debug:
    verbosity: normal

service:
  telemetry:
    metrics:
      level: basic
  extensions: [health_check, zpages]
  pipelines:
    metrics:
      receivers: [otlp]
      processors: [memory_limiter, batch]
      exporters: [otlp]
    metrics/internal:
      receivers: [prometheus, hostmetrics]
      processors: [memory_limiter, resourcedetection, batch]
      exporters: [otlp]
    traces:
      receivers: [otlp]
      processors: [memory_limiter, batch]
      exporters: [otlp]
    logs:
      receivers: [otlp]
      processors: [memory_limiter, batch]
      exporters: [otlp]
```

- Replace `<region>` with your SigNoz Cloud [region](https://signoz.io/docs/ingestion/signoz-cloud/overview/#endpoint).
- Replace `<your-ingestion-key>` with your [SigNoz Ingestion Key](https://signoz.io/docs/ingestion/signoz-cloud/keys/).

You can learn more about the configuration at [OTel Collector Configuration](https://signoz.io/docs/opentelemetry-collection-agents/opentelemetry-collector/configuration/#otel-collector-configuration-structure) doc.

<Admonition type="warning">
  **Windows users:** Remove the `processes: {}` scraper from the `hostmetrics` receiver
  configuration, as it is not supported on Windows.
</Admonition>

### Step 3: Run the Collector

<Tabs groupId="os-arch">
<TabItem value="linux" label="Linux (Systemd)">

We recommend running the collector as a `systemd` service for reliability.

#### Create a user for the collector:

```bash
sudo useradd -r -s /bin/false otelcol-contrib
sudo chown -R otelcol-contrib:otelcol-contrib /etc/otelcol-contrib
```

#### Create the systemd service file:

Create `/etc/systemd/system/otelcol-contrib.service` with the following content:

```ini:/etc/systemd/system/otelcol-contrib.service
[Unit]
Description=OpenTelemetry Collector Contrib
After=network.target

[Service]
User=otelcol-contrib
Group=otelcol-contrib
Type=simple
ExecStart=/usr/local/bin/otelcol-contrib --config /etc/otelcol-contrib/config.yaml
KillMode=control-group
Restart=on-failure
RestartSec=5s

[Install]
WantedBy=multi-user.target
```

#### Start and enable the service:

```bash
sudo systemctl daemon-reload
sudo systemctl enable --now otelcol-contrib
```

#### Check systemd service status:

```bash
sudo systemctl status otelcol-contrib
```

</TabItem>

<TabItem value="macos" label="macOS">

Run the collector in the foreground or use a tool like `tmux` or `screen` for background execution.

```bash
./otelcol-contrib --config config.yaml
```

To run in the background (simple):

```bash
nohup ./otelcol-contrib --config config.yaml > otelcol.log 2>&1 &
```

</TabItem>

<TabItem value="windows" label="Windows">

Run the collector using PowerShell:

```powershell
.\otelcol-contrib.exe --config config.yaml
```

For a persistent Windows Service, use the `sc` command to create a service.

</TabItem>
</Tabs>

### Step 4 (Optional): Generate Test Telemetry

Use `telemetrygen` to send sample traces to your collector.

#### Install telemetrygen:

```bash
go install github.com/open-telemetry/opentelemetry-collector-contrib/cmd/telemetrygen@latest
```

#### Send traces:

```bash
telemetrygen traces --traces 1 --otlp-endpoint localhost:4317 --otlp-insecure
```

#### Check SigNoz UI:

Go to the **Traces** tab in SigNoz and check for the generated traces.

## Validate

If running OTel Collector via systemd (Linux), check the logs:

```bash
sudo journalctl -u otelcol-contrib -f
```

You should see logs indicating the collector has started and extensions are ready:

```
2026-01-17T09:38:23.348Z        info    internal/resourcedetection.go:223       detected resource information   {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "resourcedetection", "otelcol.component.kind": "processor", "otelcol.pipeline.id": "metrics/internal", "otelcol.signal": "metrics", "resource": {"host.name":"Debian-VM","os.type":"linux"}}
2026-01-17T09:38:23.349Z        info    prometheusreceiver@v0.143.0/metrics_receiver.go:155     Starting discovery manager      {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "prometheus", "otelcol.component.kind": "receiver", "otelcol.signal": "metrics"}
2026-01-17T09:38:28.389Z        info    targetallocator/manager.go:215  Scrape job added        {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "prometheus", "otelcol.component.kind": "receiver", "otelcol.signal": "metrics", "jobName": "otel-collector-binary"}
2026-01-17T09:38:28.395Z        info    prometheusreceiver@v0.143.0/metrics_receiver.go:202     Starting scrape manager {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "prometheus", "otelcol.component.kind": "receiver", "otelcol.signal": "metrics"}
2026-01-17T09:38:28.397Z        info    otlpreceiver@v0.143.0/otlp.go:120       Starting GRPC server    {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "otlp", "otelcol.component.kind": "receiver", "endpoint": "[::]:4317"}
2026-01-17T09:38:28.398Z        info    otlpreceiver@v0.143.0/otlp.go:178       Starting HTTP server    {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "otlp", "otelcol.component.kind": "receiver", "endpoint": "[::]:4318"}
2026-01-17T09:38:28.398Z        info    healthcheck/handler.go:131      Health Check state change       {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}, "otelcol.component.id": "health_check", "otelcol.component.kind": "extension", "status": "ready"}
2026-01-17T09:38:28.399Z        info    service@v0.143.0/service.go:273 Everything is ready. Begin running and processing data. {"resource": {"service.instance.id": "ecd063f6-8fa4-408d-9047-74938de082f3", "service.name": "otelcol-contrib", "service.version": "0.143.1"}}
```

<details>
<ToggleHeading>

## Troubleshooting

</ToggleHeading>

### Connection Refused

- Ensure port `4317` (gRPC) or `4318` (HTTP) is not occupied by another service.
- Check firewall settings to allow traffic on these ports.

### Config Errors

- Validate your configuration before starting:

```bash
/usr/local/bin/otelcol-contrib validate --config /etc/otelcol-contrib/config.yaml
```

- Run the binary manually to see immediate startup errors:

```bash
/usr/local/bin/otelcol-contrib --config /etc/otelcol-contrib/config.yaml
```

### Log & Trace Permissions

- If you are collecting logs from files, ensure the `otelcol-contrib` user has read access to those files.

</details>

## Get Help

<GetHelp />
