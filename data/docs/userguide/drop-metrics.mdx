---
date: 2025-12-19
id: drop-metrics
doc_type: howto

title: How to Drop and Filter OpenTelemetry Metrics
description: Learn how to drop and filter OpenTelemetry metrics at the collector level and disable metrics generation at the SDK level for different programming languages.
---

import GetHelp from '@/components/shared/get-help.md'

## Overview

This guide explains different methods to filter out or disable metrics in your OpenTelemetry instrumentation. You can either:
- Filter metrics at the collector level using the OpenTelemetry Collector (or Agent)
- Disable metrics generation at the SDK level for different programming languages

## Filtering Metrics at the Collector Level

The filter processor in OpenTelemetry allows you to drop metrics based on their name, label values, or other attributes. This is useful if you want to exclude certain metrics from being sent to SigNoz while still collecting them at the source.

You should configure the OpenTelemetry Collector Agent to filter metrics at the collector level if you want to filter data before it is exported to the backend. See [Get Started with OpenTelemetry Collection Agents](https://signoz.io/docs/opentelemetry-collection-agents/get-started/) to install the OpenTelemetry Collector Agent.

The filter processor is configured in the `processors` section of the `otel-collector-config.yaml` file.

<Admonition>

The processor needs to be added to the metrics pipeline to take effect. 
```yaml:otel-collector-config.yaml
metrics:
  receivers: [otlp]
  processors: [filter/drop_metrics_by_name, batch]
  exporters: [otlp]
```
</Admonition>

<KeyPointCallout title="Dropping labels does not reduce sample count" defaultCollapsed={true}>
If you are trying to drop specific labels (attributes) to reduce cardinality, simply removing them may not work as expected and does not reduce ingest volume. See [Dropping Metric Labels](https://signoz.io/docs/metrics-management/dropping-metric-labels/) for details.
</KeyPointCallout>

### Drop Metrics by Exact Name Match

You can drop specific metrics by their exact names:

```yaml:otel-collector-config.yaml
processors:
  filter/drop_metrics_by_name:
    metrics:
      exclude:
        match_type: strict
        metric_names:
          - http.client.request.body.size
          - http.client.response.body.size
```

### Drop Metrics by Pattern Match

You can use regular expressions to drop metrics matching a pattern:

```yaml:otel-collector-config.yaml
processors:
  filter/drop_metrics_by_name_regex:
    metrics:
      exclude:
        match_type: regexp
        metric_names:
          - http.client.*
```


### Drop Metrics by Resource Attributes

You can filter metrics based on resource attributes such as `service.name`, `host.name`, `k8s.pod.name`, etc:

```yaml:otel-collector-config.yaml
processors:
  filter/drop_metrics_by_label_values:
    metrics:
      metric:
        - resource.attributes["k8s.pod.name"] == "test-pod"
```

### Drop Metrics by Resource Attributes Pattern

You can use regular expressions to match resource attributes:

```yaml:otel-collector-config.yaml
processors:
  filter/drop_metrics_by_label_values_regex:
    metrics:
      metric:
        - IsMatch(resource.attributes["k8s.pod.name"], "test-pod-.*")
```

### Drop Metrics by Metric Attributes

You can filter metrics based on their attributes like `http.method`, `message.operation`, etc:

```yaml:otel-collector-config.yaml
processors:
  filter/drop_metrics_by_label_values:
    metrics:
      datapoint:
        - attributes["http.method"] == "GET"
```

### Drop Metrics by Metric Attributes Pattern

You can use regular expressions to match metric attributes:

```yaml:otel-collector-config.yaml
processors:
  filter/drop_metrics_by_label_values_regex:
    metrics:
      datapoint:
        - IsMatch(attributes["http.method"], "GET|POST")
```

Refer to the <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/filterprocessor" target="_blank" rel="noopener noreferrer nofollow">OpenTelemetry documentation</a> for more details on how to configure the filter processor.

## Disabling SDK-Generated Metrics

In addition to filtering metrics at the collector level, you can also control metric generation at the SDK level. This can be particularly useful when you want to disable specific instrumentations or all metrics from your application.

### Disable All Metrics

If you want to completely disable metrics collection from the SDK while keeping tracing/logging enabled, you can set:

```bash
OTEL_METRICS_EXPORTER=none
```

This environment variable will prevent the SDK from generating any metrics, reducing the resource usage of your application.

### Disable Specific Instrumentations

To disable instruments from specific packages, you can use environment variables depending on your programming language:

<Tabs>
<TabItem value="python" label="Python">

```bash
# This will disable both traces and metrics from the system-metrics instrumentation
OTEL_PYTHON_DISABLED_INSTRUMENTATIONS=system-metrics
```

For more configuration options, see the <a href="https://opentelemetry.io/docs/zero-code/python/configuration/#disabling-specific-instrumentations" target="_blank" rel="noopener noreferrer nofollow">Python SDK Configuration documentation</a>.

</TabItem>
<TabItem value="java" label="Java">

```bash
# Disable specific auto-instrumentations
OTEL_INSTRUMENTATION_[NAME]_ENABLED=false
# Example for disabling the akka-http instrumentation
OTEL_INSTRUMENTATION_AKKA_HTTP_ENABLED=false

# For Spring Boot applications, you can also use application.properties:
otel.instrumentation.[name].enabled=false
# Example for disabling the akka-http instrumentation in Spring Boot
otel.instrumentation.akka-http.enabled=false
```

For more configuration options, see the <a href="https://opentelemetry.io/docs/zero-code/java/agent/disable/" target="_blank" rel="noopener noreferrer nofollow">Java Agent Configuration documentation</a>.

</TabItem>
<TabItem value="nodejs" label="Node.js">

```bash
# Disable specific instrumentations (comma-separated)
OTEL_NODE_DISABLED_INSTRUMENTATIONS=http,express,dns
```

For more configuration options, see the <a href="https://opentelemetry.io/docs/zero-code/js/configuration/#disable-specific-instrumentations" target="_blank" rel="noopener noreferrer nofollow">Node.js SDK Configuration documentation</a>.

</TabItem>
<TabItem value=".net" label=".NET">

```bash
# Disable all auto generated metrics in .NET applications
OTEL_DOTNET_AUTO_METRICS_ENABLED=false
```

For more configuration options, see the <a href="https://opentelemetry.io/docs/zero-code/dotnet/configuration/#additional-settings" target="_blank" rel="noopener noreferrer nofollow">.NET SDK Configuration documentation</a>.
</TabItem>
</Tabs>

## Get Help

<GetHelp />
