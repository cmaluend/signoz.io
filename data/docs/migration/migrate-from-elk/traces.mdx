---
date: 2025-12-01
id: traces
tags: [SigNoz Cloud, Self-Host]
title: Migrate Traces/APM from ELK Stack
description: Learn how to migrate your distributed tracing/APM from ELK Stack (Elastic APM) to SigNoz using OpenTelemetry.
doc_type: howto
---

## Overview

This guide walks you through migrating distributed tracing and APM from the ELK Stack (Elastic APM) to SigNoz. You will:

1. Assess your current Elastic APM services
2. Replace Elastic APM agents with OpenTelemetry instrumentation
3. Validate traces are flowing correctly to SigNoz

SigNoz is built natively on OpenTelemetry, so migration involves replacing proprietary Elastic APM agents with standard OpenTelemetry SDKs.

<KeyPointCallout title="Using self-hosted SigNoz?" defaultCollapsed={true}>
Most steps are identical. To adapt this guide, update the endpoint and remove the ingestion key header as shown in [Cloud â†’ Self-Hosted](https://signoz.io/docs/ingestion/cloud-vs-self-hosted/#cloud-to-self-hosted).
</KeyPointCallout>

## Prerequisites

Before starting, ensure you have:

- A SigNoz account ([Cloud](https://signoz.io/teams/)) or a running SigNoz instance (Self-Hosted)
- Access to your application source code
- List of services currently instrumented with Elastic APM

## Step 1: Assess Your Current Tracing Setup

Inventory which services are using Elastic APM agents.

### Identify Instrumented Services

Check your applications for Elastic APM dependencies:
- **Java**: `elastic-apm-agent.jar`
- **Node.js**: `elastic-apm-node` package
- **Python**: `elastic-apm` package
- **Go**: `go.elastic.co/apm` module
- **.NET**: Elastic APM .NET Agent

### Categorize Your Services

Group services by language to plan the migration path:

| Language | Elastic Agent | Migration Path |
|----------|---------------|----------------|
| **Java** | Java Agent | [Replace with OTel Java Agent](#from-elastic-apm-java-agent) |
| **Node.js** | Node.js Agent | [Replace with OTel Node.js SDK](#from-elastic-apm-nodejs-agent) |
| **Python** | Python Agent | [Replace with OTel Python SDK](#from-elastic-apm-python-agent) |
| **Go** | Go Agent | [Replace with OTel Go SDK](#from-elastic-apm-go-agent) |
| **.NET** | .NET Agent | [Replace with OTel .NET SDK](#from-elastic-apm-net-agent) |

## Step 2: Migrate Each Service

Work through each service from your inventory.

### From Elastic APM Java Agent

**Step 1: Remove Elastic APM**
- Remove the `-javaagent:/path/to/elastic-apm-agent.jar` flag.
- Remove `elasticapm.properties` if present.

**Step 2: Add OpenTelemetry Java Agent**
Download the agent:
```bash
curl -L -o opentelemetry-javaagent.jar \
  https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar
```

**Step 3: Configure and Run**
```bash
java -javaagent:/path/to/opentelemetry-javaagent.jar \
     -Dotel.service.name=your-service-name \
     -Dotel.exporter.otlp.endpoint=https://ingest.<region>.signoz.cloud:443 \
     -Dotel.exporter.otlp.headers=signoz-ingestion-key=<SIGNOZ_INGESTION_KEY> \
     -jar your-application.jar
```

See [Java Instrumentation](https://signoz.io/docs/instrumentation/opentelemetry-java/) for details.

### From Elastic APM Node.js Agent

**Step 1: Remove Elastic APM**
```bash
npm uninstall elastic-apm-node
```
Remove `require('elastic-apm-node').start(...)` from your code.

**Step 2: Add OpenTelemetry**
```bash
npm install @opentelemetry/auto-instrumentations-node
```

**Step 3: Configure and Run**
```bash
export OTEL_SERVICE_NAME=your-service-name
export OTEL_EXPORTER_OTLP_ENDPOINT=https://ingest.<region>.signoz.cloud:443
export OTEL_EXPORTER_OTLP_HEADERS=signoz-ingestion-key=<SIGNOZ_INGESTION_KEY>
export NODE_OPTIONS="--require @opentelemetry/auto-instrumentations-node/register"

node app.js
```

See [Node.js Instrumentation](https://signoz.io/docs/instrumentation/opentelemetry-nodejs/) for details.

### From Elastic APM Python Agent

**Step 1: Remove Elastic APM**
```bash
pip uninstall elastic-apm
```
Remove `elasticapm` imports and initialization from your code.

**Step 2: Add OpenTelemetry**
```bash
pip install opentelemetry-distro opentelemetry-exporter-otlp
opentelemetry-bootstrap -a install
```

**Step 3: Configure and Run**
```bash
export OTEL_SERVICE_NAME=your-service-name
export OTEL_EXPORTER_OTLP_ENDPOINT=https://ingest.<region>.signoz.cloud:443
export OTEL_EXPORTER_OTLP_HEADERS=signoz-ingestion-key=<SIGNOZ_INGESTION_KEY>

opentelemetry-instrument python app.py
```

See [Python Instrumentation](https://signoz.io/docs/instrumentation/opentelemetry-python/) for details.

### From Elastic APM Go Agent

**Step 1: Remove Elastic APM**
Remove `go.elastic.co/apm` imports and initialization code.

**Step 2: Install OpenTelemetry**
```bash
go get go.opentelemetry.io/otel \
  go.opentelemetry.io/otel/sdk \
  go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc
```

**Step 3: Instrument Code**
Initialize the OTel tracer and replace Elastic transactions with OTel spans.

See [Go Instrumentation](https://signoz.io/docs/instrumentation/opentelemetry-golang/) for complete setup.

### From Elastic APM .NET Agent

**Step 1: Remove Elastic APM**
Uninstall the Elastic APM .NET agent and remove `Elastic.Apm` packages.

**Step 2: Add OpenTelemetry**
Use the [OpenTelemetry .NET Automatic Instrumentation](https://signoz.io/docs/instrumentation/opentelemetry-dotnet/).

**Step 3: Configure and Run**
```bash
export OTEL_SERVICE_NAME=your-service-name
export OTEL_EXPORTER_OTLP_ENDPOINT=https://ingest.<region>.signoz.cloud:443
export OTEL_EXPORTER_OTLP_HEADERS=signoz-ingestion-key=<SIGNOZ_INGESTION_KEY>
. $HOME/.otel-dotnet-auto/instrument.sh
dotnet run
```

### Other Languages

For languages not listed above (Ruby, PHP, Rust, Elixir, etc.), please refer to the [SigNoz Instrumentation Documentation](https://signoz.io/docs/instrumentation/) to find the specific guide for your application.

## Validate

Verify traces are flowing correctly by comparing against your service inventory.

### Check Services Are Reporting

1. In SigNoz, navigate to **Services** in the left sidebar.
2. Verify each service from your inventory appears in the list.
3. Click a service to see its metrics (latency, error rate, throughput).

### Verify Traces

1. Navigate to **Traces** in the left sidebar.
2. Select a service and time range.
3. Verify spans appear with expected attributes.
4. Check that trace context propagates across service boundaries.

<details>
<ToggleHeading>
## Troubleshooting
</ToggleHeading>

### Traces not appearing in SigNoz

1. **Check connectivity**: Verify your application can reach `ingest.<region>.signoz.cloud:443`.
2. **Verify service name**: Ensure `OTEL_SERVICE_NAME` is set.
3. **Check application logs**: Look for OpenTelemetry exporter errors.
4. **Enable debug logging**: Set `OTEL_LOG_LEVEL=debug` to see detailed SDK logs.

### Broken or incomplete traces

1. **Check context propagation**: Ensure all services use compatible propagation (W3C Trace Context).
2. **Verify all services are instrumented**: Missing instrumentation on any service breaks the trace chain.

</details>

## Next Steps

Once your traces are flowing to SigNoz:

- [Create dashboards](https://signoz.io/docs/migration/migrate-from-elk/dashboards) with trace-based panels
- [Set up trace-based alerts](https://signoz.io/docs/alerts-management/trace-based-alerts/) for latency and errors
- [Correlate traces with logs](https://signoz.io/docs/logs-pipelines/guides/trace/) for debugging
- [Explore the Service Map](https://signoz.io/docs/userguide/service-map/)
