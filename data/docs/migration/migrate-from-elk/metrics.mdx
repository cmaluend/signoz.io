---
date: 2025-12-01
id: metrics
tags: [SigNoz Cloud, Self-Host]
title: Migrate Metrics from ELK Stack
description: Learn how to migrate your metrics from ELK Stack (Metricbeat) to SigNoz using OpenTelemetry.
doc_type: howto
---

## Overview

This guide walks you through migrating metrics from the ELK Stack (specifically Metricbeat) to SigNoz. You will:

1. Check your Metricbeat modules and configuration
2. Set up metric collection with OpenTelemetry
3. Map Metricbeat modules to OpenTelemetry receivers
4. Validate metrics are flowing correctly to SigNoz

<KeyPointCallout title="Using self-hosted SigNoz?" defaultCollapsed={true}>
Most steps are identical. To adapt this guide, update the endpoint and remove the ingestion key header as shown in [Cloud â†’ Self-Hosted](https://signoz.io/docs/ingestion/cloud-vs-self-hosted/#cloud-to-self-hosted).
</KeyPointCallout>

## Key Differences: ELK vs SigNoz

| Aspect | ELK Stack | SigNoz |
|--------|-----------|--------|
| **Collection** | Metricbeat, Elastic Agent | OpenTelemetry Collector |
| **Data Model** | Elasticsearch Documents | OpenTelemetry Metrics |
| **Query Language** | KQL, Lucene, TSVB | Query Builder, PromQL, ClickHouse SQL |
| **Storage** | Elasticsearch (Indices) | ClickHouse (Columnar) |

SigNoz uses the OpenTelemetry Collector for metric collection, which offers a wide range of receivers to replace Metricbeat modules.

## Prerequisites

Before starting, ensure you have:

- A SigNoz account ([Cloud](https://signoz.io/teams/)) or a running SigNoz instance (Self-Hosted)
- Access to your Metricbeat configuration (`metricbeat.yml`, `modules.d/`)
- Administrative access to deploy the OpenTelemetry Collector

## Step 1: Assess Your Current Metrics

Before migrating, inventory what you're collecting with Metricbeat.

### Identify Active Modules

Review your `metricbeat.yml` and `modules.d/` directory to see which modules are enabled. Common modules include:

- `system` (CPU, memory, disk)
- `docker` (Container stats)
- `kubernetes` (Kubelet stats)
- `prometheus` (Scraping endpoints)
- `nginx`, `redis`, `mysql`, etc.

### Categorize Your Metrics

Group your metrics by source type:

| Metricbeat Module | OTel Receiver | Migration Path |
|-------------------|---------------|----------------|
| **system** | `hostmetrics` | [Use Host Metrics Receiver](#from-system-metrics) |
| **docker** | `docker_stats` | [Use Docker Stats Receiver](#from-docker-metrics) |
| **kubernetes** | K8s Infra Chart | [Use K8s Infra Chart](#from-kubernetes-metrics) |
| **prometheus** | `prometheus` | [Use Prometheus Receiver](#from-prometheus-endpoints) |
| **Other Modules** | Various | Check [OTel Registry](https://opentelemetry.io/ecosystem/registry/?component=receiver) to configure [OTel receivers](https://signoz.io/docs/userguide/otel-metrics-receivers/) |

## Step 2: Set Up the OpenTelemetry Collector

Install the OpenTelemetry Collector if you haven't already:

1. [Install the OpenTelemetry Collector](https://signoz.io/docs/opentelemetry-collection-agents/get-started/) in your environment.

2. Configure the OTLP exporter for metrics

## Step 3: Migrate Each Metric Source

Work through each module from your inventory. For a complete list of supported receivers, see [Send Metrics to SigNoz](https://signoz.io/docs/metrics-management/send-metrics/).

### From System Metrics

Replace the Metricbeat `system` module with the `hostmetrics` receiver. See [Host Metrics](https://signoz.io/docs/userguide/hostmetrics/) for detailed configuration.

**Metricbeat `system`:**
```yaml
- module: system
  period: 10s
  metricsets: ["cpu", "memory", "network", "filesystem"]
```

**OTel `hostmetrics`:**
```yaml:otel-collector-config.yaml
receivers:
  hostmetrics:
    collection_interval: 10s
    scrapers:
      cpu:
      memory:
      network:
      filesystem:
      load:
      disk:
```

Enable it in the pipeline:
```yaml:otel-collector-config.yaml {4}
service:
  pipelines:
    metrics:
      receivers: [otlp, hostmetrics]
      processors: [batch, resourcedetection]
      exporters: [otlp]
```

### From Docker Metrics

Replace the Metricbeat `docker` module with the `docker_stats` receiver. See [Docker Container Metrics](https://signoz.io/docs/metrics-management/docker-container-metrics/) for detailed configuration.

**Metricbeat `docker`:**
```yaml
- module: docker
  period: 10s
  hosts: ["unix:///var/run/docker.sock"]
```

**OTel `docker_stats`:**
```yaml:otel-collector-config.yaml
receivers:
  docker_stats:
    endpoint: "unix:///var/run/docker.sock"
    collection_interval: 10s
    timeout: 5s
    metrics:
      container.cpu.utilization:
        enabled: true
```

### From Kubernetes Metrics

For Kubernetes environments, we recommend using the **SigNoz K8s Infra Helm chart**.

When installed, it automatically collects all necessary metrics (node, pod, container, volume) without requiring manual receiver configuration.

See [Install K8s Infra](https://signoz.io/docs/opentelemetry-collection-agents/k8s/k8s-infra/install-k8s-infra/) for setup instructions.

### From Prometheus Endpoints

If you used Metricbeat's `prometheus` module to scrape endpoints, use the OTel `prometheus` receiver. See [Prometheus Metrics](https://signoz.io/docs/userguide/prometheus-metrics/) for detailed configuration.

**Metricbeat `prometheus`:**
```yaml
- module: prometheus
  period: 10s
  hosts: ["localhost:9090"]
  metrics_path: /metrics
```

**OTel `prometheus`:**
```yaml:otel-collector-config.yaml
receivers:
  prometheus:
    config:
      scrape_configs:
        - job_name: 'my-app'
          scrape_interval: 10s
          static_configs:
            - targets: ['localhost:9090']
```

### From Application Custom Metrics

If you were sending custom metrics using Elastic APM agents, migrate to OpenTelemetry Metrics SDKs.

1. Initialize the MeterProvider in your application.
2. Create instruments (Counters, Gauges, Histograms).
3. Record values.

See [Send Metrics to SigNoz](https://signoz.io/docs/metrics-management/send-metrics/) for language-specific guides.

### From Cloud Integrations

If you were using Metricbeat modules for cloud providers (AWS, Azure, GCP), use SigNoz's native cloud integrations or the OpenTelemetry Collector's cloud receivers.

- **AWS**: [AWS Cloud Integrations](https://signoz.io/docs/integrations/aws/one-click-aws-integrations/)
- **Azure**: [Azure Monitoring](https://signoz.io/docs/azure-monitoring/)
- **GCP**: [GCP Monitoring](https://signoz.io/docs/gcp-monitoring/)

### From Synthetics

If you were using Elastic Uptime (Heartbeat), migrate to SigNoz HTTP Host Metrics.

SigNoz supports monitoring HTTP endpoints for availability and latency. See [Monitor HTTP Endpoints](https://signoz.io/docs/monitor-http-endpoints/).

## Step 4: Configure Processors

To replicate Metricbeat's metadata enrichment (like `add_host_metadata`, `add_kubernetes_metadata`), configure OTel processors.

### Resource Detection

Replaces `add_host_metadata` and `add_cloud_metadata`.

```yaml:otel-collector-config.yaml
processors:
  resourcedetection:
    detectors: [env, system, ec2, gcp, azure]
    timeout: 2s
```



## Validate

Verify metrics are flowing correctly by comparing against your source inventory.

### Check Metrics Are Arriving

1. In SigNoz, navigate to **Metrics** in the left sidebar.
2. Use the **List View** to browse available metrics.
3. Search for metrics like `system_cpu_time`, `container_cpu_usage_seconds`, etc.

<Figure src="/img/docs/migration/metrics-explorer.webp" alt="SigNoz Metrics Explorer showing list of available metrics" caption="SigNoz Metrics Explorer interface" />

<details>
<ToggleHeading>
## Troubleshooting
</ToggleHeading>

### Metrics not appearing in SigNoz

1. **Check Collector status**: Verify the OpenTelemetry Collector is running.
2. **Verify endpoint**: Confirm `ingest.<region>.signoz.cloud:443` matches your account region.
3. **Check ingestion key**: Ensure `signoz-ingestion-key` header is set correctly.
4. **Test connectivity**: Verify outbound HTTPS (port 443) is allowed.

### Missing attributes

If metrics appear but lack expected attributes (like `host.name` or `k8s.pod.name`):

1. **Check processors**: Ensure `resourcedetection` processor is enabled in the pipeline.
2. **Verify permissions**: Ensure the Collector ServiceAccount has permissions to read K8s metadata.

### Metric names differ

OpenTelemetry metric names may differ from Metricbeat names.
- Metricbeat: `system.cpu.total.pct`
- OTel: `system.cpu.utilization`

Use the [OpenTelemetry Registry](https://opentelemetry.io/ecosystem/registry/) to find exact metric names for each receiver.

</details>

## Next Steps

Once your metrics are flowing to SigNoz:

- [Create dashboards](https://signoz.io/docs/migration/migrate-from-elk/dashboards) to visualize metrics
- [Set up alerts](https://signoz.io/docs/migration/migrate-from-elk/alerts) based on your metrics
- [Migrate traces](https://signoz.io/docs/migration/migrate-from-elk/traces) for end-to-end observability
